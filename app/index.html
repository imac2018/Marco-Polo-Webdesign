<!doctype html>
<html class="no-js" >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>La route de la soie</title>

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->

    <!-- build:css styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="/bower_components/normalize-css/normalize.css" />
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->

    <!-- build:js scripts/vendor/modernizr.js -->
    <script src="/bower_components/modernizr/modernizr.js"></script>
    <!-- endbuild -->
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <main>
       <!-- INNER HEADERS -->
      <nav>
        <button>Route</button>
      </nav>

      <div class="journal">
          <h1>Des routes et des étapes</h1>
          <p>Nous avons sélectionné pour vous des étapes de la route de la soie que vous pouvez redécouvrir sous 3 angles différents : aventure, culture et tourisme. Naviguez de ville en ville pour découvrir des informations sur chaque étape.</p>
          <div class="route-journal">
            <p>Venise</p>
            <p>Istanbul</p>
            <p>Nishapur</p>
            <p>Kashgar</p>
            <p>Dunhuang</p>
            <p>Beijing</p>
          </div>
          <div class="back">Retour au trajet</div>
      </div>

      <ul class="route">
        <li class="active" id="e1"><p>Venise</p></li>
        <li id="e2"><p>Istanbul</p></li>
        <li id="e3"><p>Nishapur</p></li>
        <li id="e4"><p>Kashgar</p></li>
        <li id="e5"><p>Dunhuang</p></li>
        <li id="e6"><p>Beijing</p></li>
      </ul>
      <!-- END INNER HEADERS -->
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 977.5 5477.5" style="enable-background:new 0 0 977.5 5477.5;" xml:space="preserve">
        <style type="text/css">
        	.st0{fill:#FFFFFF;}
        	.st1{fill:none;stroke:#FFFFFF;stroke-width:5;stroke-miterlimit:10;}
        </style>
        <g>
        	<circle class="st0" cx="271.2" cy="17.6" r="17.6"/>
        	<path class="st1" d="M634.7,5147.1c34,6,68,15,100,30c9,4,13,13,17,21c5,14,3,28,0,43c-4,14-8,26-14,39c-6,15-14,28-23,43
        		c-22,34-46,62-76,88c-1,1-3,1-4,2c-22,20-48,33-73.3,46.8"/>
        	<path class="st1" d="M179.1,5061.1c8.9,7.9,19.6,13.3,30.4,18.1c11.1,4.9,22.3,10.4,33.9,13.8"/>
        	<path class="st1" d="M821.6,4215.4c21.1,18.6,41.1,40.6,51.1,67.6c10,30-4,62-28,82c-2,2-4,2-6,4c-3,3-5,6-8,8c-8,5-15,11-24,15
        		c-1,1-2,2-3,3c-89,50-181,79-277,110c-3,1-7,1-10,2c-15,6-30,10-45,15c-93,29-183,54-269,102c-2,1-4,3-6,5c-15,9-28,18-41,30
        		c-1,1-2,0-3,1c-21,19-36,41-47,66c-4,10-7,21-9,32c-2,15-2,29-1,43c1,11,3,22,5,33c10,52,22,99,37,149c8,23,16,45,30.3,65.3"/>
        	<path class="st1" d="M849.9,3195c2.8,1.1,5.8,2.1,7.8,4.1s4,3,7,5c23,17,39,41,33,70c-9,46-43,78-77,108c-1,1-3,1-4,2
        		c-32,27-67,46-104,64c-32,16-64,31-98,44c-65,25-129,44-198,60c-2,1-4,3-6,4c-19,3-35,7-54,11c-26,5-50,8-75,12c-28,3-56,6-84,7
        		c-61,13-122,36-164,87c-24,30-36,68-26,105c11,42,41,71,77,96c3,2,5,2,8,4c31,21,61,34,94.3,47.1"/>
        	<path class="st1" d="M732.2,2282.1c-5.5,11-9.5,23-16.5,34l-2,1c-6,10-11,19-16,29c-1,1-2,2-3,3c-5,11-12,20-19,29
        		c-9,9-17,19-26,28c-1,2-1,4-3,6c-3,2-7,3-9,6c-11,16-27,24-42,35c-17,13-34,22-52,30c-50,21-102,30-155,34c-13,1-26,1-39,2
        		c-74,1-147-2-221,4c-14,1-28,6-39,15c-19,4-32,21-36,40c-1,4-2,8-3,12c-9,20-15,40-21,61c0,2-1,4-1,7c-19,68-30,135-25,205
        		c2,25,8,49,15,73c6,19,14,35,25,52c33,48,80,77,135.1,85.9"/>
        	<path class="st1" d="M800.3,1321.2c17.4,5.9,33.4,10.9,50.4,17.9c5,1,9,3,14,4c8,3,17,6,25,9c26,11,50,22,71,41c8,8,16,17,14,30
        		c-3,13-11,21-21,28c-8,4-14,8-22,11c-14,5-27,10-41,16c-10,4-21,6-31,8c-33,9-64,16-97,21c-11,2-21,3-32,3c-6,1-12,3-18,4
        		c-102,11-198,20-302,41c-1,0-3,2-4,2c-37,8-69,20-101,39c-11,7-20,15-29,24c-2,2-2,5-4,7c-11,11-16,24-21,37c-6,14-8,30-7,45
        		c3,28,9,56,21,82c2,5,3,11,4,17c2,51,9,101,37,146c2,2,4,4,5,7c1,1,2,2,3,3s1,3,2,4c13,16,28,28,45,38c5,2,10,4,15,6
        		c14,4,29,5,42.9,6.1"/>
        	<path class="st1" d="M776.2,391.3c2.5,1.8,4.5,2.8,5.5,4.8c3,7,8,11,13,17c13,18,22,37,26,59c4,24,1,48-6,71c-6,19-13,37-22,55
        		c-1,1-2,2-3,3c-13,22-25,42-42,61c-3,4-5,8-8,12c-18,19-34,37-53,54c-41,36-84,63-131,91c-11,6-22,11-33,17c-19,8-38,15-57,23
        		c-7,2-14,4-21,6c-36,16-72,29-111,36c-55,8-108,9-157,38c-2,2-4,3-7,5c-4,4-8,8-13,11c-25,21-41,47-46,79c-5,33,5,64,21,92
        		c3,4,7,8,10,12c9,9,19,15,29,24c8,6,16,10,25,13c17,7,34,13,51.6,14.3"/>
        	<path class="st1" d="M262,26.3c-32.2,14.7-70.6,26.6-93.5,55.4c-11.3,14.3-19.2,33.8-10.4,51.3c7.8,15.5,18.8,29.1,31.6,40.8
        		c14.6,13.3,31.3,24,48.7,33.1"/>
        	<circle class="st0" cx="561.4" cy="5459.9" r="17.6"/>
        </g>
        </svg>
      <!-- SECTIONS -->
      <div id="fullpage" class="main-section">
        <div class="section header">
          <h1>Seta</h1>
          <h2>Redécouvrez la route de la soie</h2>
          <button>Commencer l'aventure</button>
        </div>
        <div class="section mySection" id="section-1">
          <div class="content">
            <div class="elements-section">
              <h2 class="left-anime">étape 1 :</h2>
              <h1>Venise</h1>
              <h3 class="left-anime">Ville de légèreté et de sensation</h3>
              <a class="left-anime" href="venise.html"><button class="left-anime">Découvrir cette étape</button></a>
            </div>
          </div>
        </div>
        <div class="section mySection" id="section-2">
          <div class="content">
            <div class="elements-section">
              <h2 class="left-anime">étape 2 :</h2>
              <h1>Istanbul</h1>
              <h3 class="left-anime">La mythique ville Perse</h3>
              <a class"left-anime" href=""><button class="left-anime">Découvrir cette étape</button></a>
            </div>
          </div>
        </div>
        <div class="section mySection" id="section-3">
          <div class="content">
            <div class="elements-section">
              <h2 class="left-anime">étape 3 :</h2>
              <h1>Nishapur</h1>
              <h3 class="left-anime">L'arrivée au Moyen-Orient</h3>
              <a class"left-anime" href=""><button class="left-anime">Découvrir cette étape</button></a>
            </div>
          </div>
        </div>
        <div class="section mySection" id="section-4">
          <div class="content">
            <div class="elements-section">
              <h2 class="left-anime">étape 4 :</h2>
              <h1>Kashgar</h1>
              <h3 class="left-anime">Le désert à vue d'oeil</h3>
              <a class"left-anime" href=""><button class="left-anime">Découvrir cette étape</button></a>
            </div>
          </div>
        </div>
        <div class="section mySection" id="section-5">
          <div class="content">
            <div class="elements-section">
              <h2 class="left-anime">étape 5 :</h2>
              <h1>Dunhuang</h1>
              <h3 class="left-anime">Quand j'ai découvert ce qu'était les épices d'Asie</h3>
              <a class"left-anime" href=""><button class="left-anime">Découvrir cette étape</button></a>
            </div>
          </div>
        </div>
        <div class="section mySection" id="section-6">
          <div class="content">
            <div class="elements-section">
              <h2 class="left-anime">étape 6 :</h2>
              <h1>Beijing</h1>
              <h3 class="left-anime">La fin du voyage</h3>
              <a class"left-anime" href=""><button class="left-anime">Découvrir cette étape</button></a>
            </div>
          </div>
        </div>
        <!-- END SECTIONS -->
      </div>
    </main>

    <!-- build:js scripts/main.js -->
    <script src="scripts/main.js"></script>
    <!-- endbuild -->

    <!-- Other -->
    <script src="./scripts/javascript.fullPage.js"></script>

    <script>
        // basic clicks
        document.body.querySelector("nav button").addEventListener("click", function(){
            document.querySelector(".journal").style.display = "flex";
        });

        document.body.querySelector(".journal .back").addEventListener("click", function(){
            document.querySelector(".journal").style.display = "none";
        });

        // main animate section
        function toggleElements(elm, route){
          var elmH1 = elm.querySelector('h1');
          elm.classList.add('toggleOpacity');

          // route setup
          document.querySelector('.route .active').classList.remove('active');
          route.classList.add('active');

          // title anime
          var stringToletters = elmH1.textContent.split('');
          elmH1.textContent = '';
          for (let i of stringToletters){
              let span = document.createElement('span');
              span.appendChild(document.createTextNode(i));
              elmH1.appendChild(span);
          }
          var letters = elmH1.querySelectorAll('span');

          for(r = 0; r < letters.length; r++){
            (function(r){
                setTimeout(function(){
                  letters[r].classList.add('toggleRightAnime');
                }, 70 * r);
            }(r));
          }

          // other elements anime
          var leftAnime = elm.querySelectorAll('.left-anime');
          for(let i of leftAnime){
            i.classList.add('toggleLeftAnime');
          }
        }

        function removeElements(elm){
          var elmH1 = elm.querySelector('h1');
          var letters = elmH1.querySelectorAll('span');
          var leftAnime = elm.querySelectorAll('.left-anime');

          elm.classList.remove('toggleOpacity');
          for (let i of letters){
            i.classList.remove('toggleRightAnime');
          }
          for (let i of leftAnime){
            i.classList.remove('toggleLeftAnime');
          }
        }

        // navigation
        fullpage.initialize('#fullpage', {
          'anchors':['home','venise','istanbul','nishapur','kashgar','dunhuang','beijing'],
          'navigation': false,
          'slidesNavigation': false,
          'scrollBar': false,

          //scrolling
          'css3': true,
          'scrollingSpeed': 700,
          'autoScrolling': true,
          'easingcss3': 'ease',
          'loopHorizontal': false,
          'touchSensitivity': 5,
          //Accessibility
          'keyboardScrolling': true,
          'recordHistory': true,

          //design
          'controlArrows': true,

          //callbacks
          'onLeave': function(index, nextIndex, direction){
            // enter conditions
            if(index == 1 && direction == "down"){
              document.body.querySelector(".route").style.opacity = 1;
              document.body.querySelector("nav").style.opacity = 1;
            }
            if(index == 2 && direction == "up"){
              document.body.querySelector(".route").style.opacity = 0;
              document.body.querySelector("nav").style.opacity = 0;
            }
            if(index == 1 && direction == "down" || index == 3 && direction == "up"){
              let elm = document.body.querySelector('#section-1 .elements-section');
              let route = document.body.querySelector('.route #e1');
              toggleElements(elm,route);
            }
            if(index == 2 && direction == "down" || index == 4 && direction == "up"){
              let elm = document.body.querySelector('#section-2 .elements-section');
              let route = document.body.querySelector('.route #e2');
              toggleElements(elm,route);
            }
            if(index == 3 && direction == "down" || index == 5 && direction == "up"){
              let elm = document.body.querySelector('#section-3 .elements-section');
              let route = document.body.querySelector('.route #e3');
              toggleElements(elm,route);
            }
            if(index == 4 && direction == "down" || index == 6 && direction == "up"){
              let elm = document.body.querySelector('#section-4 .elements-section');
              let route = document.body.querySelector('.route #e4');
              toggleElements(elm,route);
            }
            if(index == 5 && direction == "down" || index == 7 && direction == "up"){
              let elm = document.body.querySelector('#section-5 .elements-section');
              let route = document.body.querySelector('.route #e5');
              toggleElements(elm,route);
            }
            if(index == 6 && direction == "down"){
              let elm = document.body.querySelector('#section-6 .elements-section');
              let route = document.body.querySelector('.route #e6');
              toggleElements(elm,route);
            }
          },
          'afterLoad': function(anchorLink, index){
            // leave conditions
            if(index != 2){
              let elm = document.body.querySelector('#section-1 .elements-section');
              removeElements(elm);
            }
            if(index != 3){
              let elm = document.body.querySelector('#section-2 .elements-section');
              removeElements(elm);
            }
            if(index != 4){
              let elm = document.body.querySelector('#section-3 .elements-section');
              removeElements(elm);
            }
            if(index != 5){
              let elm = document.body.querySelector('#section-4 .elements-section');
              removeElements(elm);
            }
            if(index != 6){
              let elm = document.body.querySelector('#section-5 .elements-section');
              removeElements(elm);
            }
            if(index != 7){
              let elm = document.body.querySelector('#section-6 .elements-section');
              removeElements(elm);
            }
          }
        });
        document.body.querySelector('.route li#e1').addEventListener('click', function(){
          fullpage.moveTo(2);
          let elm = document.body.querySelector('#section-1 .elements-section');
          let route = document.body.querySelector('.route #e1');
          toggleElements(elm,route);
        });
        document.body.querySelector('.route li#e2').addEventListener('click', function(){
          fullpage.moveTo(3);
          let elm = document.body.querySelector('#section-2 .elements-section');
          let route = document.body.querySelector('.route #e2');
          toggleElements(elm,route);
        });
        document.body.querySelector('.route li#e3').addEventListener('click', function(){
          fullpage.moveTo(4);
          let elm = document.body.querySelector('#section-3 .elements-section');
          let route = document.body.querySelector('.route #e3');
          toggleElements(elm,route);
        });
        document.body.querySelector('.route li#e4').addEventListener('click', function(){
          fullpage.moveTo(5);
          let elm = document.body.querySelector('#section-4 .elements-section');
          let route = document.body.querySelector('.route #e4');
          toggleElements(elm,route);
        });
        document.body.querySelector('.route li#e5').addEventListener('click', function(){
          fullpage.moveTo(6);
          let elm = document.body.querySelector('#section-5 .elements-section');
          let route = document.body.querySelector('.route #e5');
          toggleElements(elm,route);
        });
        document.body.querySelector('.route li#e6').addEventListener('click', function(){
          fullpage.moveTo(7);
          let elm = document.body.querySelector('#section-6 .elements-section');
          let route = document.body.querySelector('.route #e6');
          toggleElements(elm,route);
        });
    </script>
  </body>
</html>
